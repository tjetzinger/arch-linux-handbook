# -----------------------------------------------------
# Custom Autostart (persists across ML4W updates)
# -----------------------------------------------------

# Setup XDG for screen sharing
exec-once = ~/.config/hypr/scripts/xdg.sh

# GNOME Keyring daemon - started by systemd socket activation
# (removed manual start to avoid conflict with PAM/systemd)

# Wallpaper restore on monitor hotplug handled by hyprdynamicmonitors
# (post_apply_exec in ~/.config/hyprdynamicmonitors/config.toml)

# Dock
exec-once = ~/.config/nwg-dock-hyprland/launch.sh

# Auto monitor switcher for dock
# Managed by systemd: systemctl --user status hyprdynamicmonitors.service
# Import env so systemd services can access Hyprland socket
exec-once = systemctl --user import-environment WAYLAND_DISPLAY HYPRLAND_INSTANCE_SIGNATURE && systemctl --user start hyprdynamicmonitors.service

# Load hyprpm plugins
exec-once = hyprpm reload -n

# Custom hypridle (migration-safe, disables auto-lock and auto-suspend)
exec-once = hypridle -c ~/.config/hypr/hypridle-custom.conf
